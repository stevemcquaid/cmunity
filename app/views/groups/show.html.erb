<%- model_class = Group -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human %></h1>
</div>

<dl class="dl-horizontal">
  <dt><strong><%= model_class.human_attribute_name(:name) %>:</strong></dt>
  <dd><%= @group.name %></dd>
</dl>

<h4>Members</h4>
<ul>
  <% @group.get_member_names.each do |name| %>
    <li><%= name %></li>
  <% end %>
</ul>

<div class="form-actions">
  <%= link_to t('.back', :default => t("helpers.links.back")),
              groups_path, :class => 'btn'  %>
  <%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_group_path(@group), :class => 'btn' %>

  <% if !current_user.is_a_member?(@group) %>  
    <%= link_to 'Join', memberships_path(:group_id => @group), :class => 'btn ', id: 'join-btn', :method => :post, remote: true %>
    <%= link_to 'Leave', membership_path(:group_id => @group), :class => 'btn btn-inverse', :id => 'leave-btn', :style => 'display:none;', :method => :delete, :confirm => "Are you sure you want to Leave #{@group.name}?", remote: true %> 
  <% else %>           
    <%= link_to 'Leave', membership_path(:group_id => @group), :class => 'btn btn-inverse', :id => 'leave-btn', :method => :delete, :confirm => "Are you sure you want to leave #{@group.name}?", remote: true %>
    <%= link_to 'Join', memberships_path(:group_id => @group), :class => 'btn', :id => 'join-btn', :style => 'display:none;', :method => :post, remote: true %> 

  <% end %>
  

  <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              group_path(@group),
              :method => 'delete',
              :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')),
              :class => 'btn btn-danger' %>
</div>
