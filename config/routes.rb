Cmunity::Application.routes.draw do

  # Devise Routes

  devise_for :users do
    get "login" => "devise/sessions#new", :as => :login
    delete "logout" => "devise/sessions#destroy", :as => :logout
    get "register" => "devise/registrations#new", :as => :register
  end
  # Root

  root :to => 'home#index'
  
  match "mycommunities" => "groups#index_my_groups"
  match "communities" => "groups#index"
  match "fetch" => "url_posts#fetch"

  #Autogenerated routes
  
  resources :activities
  resources :groups
  resources :users

  resources :contents, :path => "posts", :constraints => {:id => /[0-9]+/}, :as => "posts"
  resources :event_posts, :path => "posts/events", :as => "events", :except => [:destroy, :show]
  resources :video_posts, :path => "posts/videos", :as => "videos", :except => [:destroy, :show]
  resources :text_posts, :path => "posts/texts", :as => "texts", :except => [:destroy, :show]
  resources :url_posts, :path => "posts/urls", :as => "urls", :except => [:destroy, :show]
  resources :image_posts, :path => "posts/images", :as => "images", :except => [:destroy, :show]

  resources :memberships

end
